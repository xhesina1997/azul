<div fxLayout="row" fxLayoutGap="20px" fxLayoutAlign="space-between" style="height: 100%; padding: 20px 0">
    <div fxFlex="30" style="height: 100%;"
         [ngStyle.sm]="{display: 'none'}"
         [ngStyle.xs]="{display: 'none'}">
        <div style=" height: calc(100% - 34px)">
            <car-filters (filtersListener)="filtersChanged($event)"></car-filters>
        </div>
    </div>
    <div fxFlex="70" fxFlex.sm="100" fxFlex.xs="100">
        <mat-card class="mat-elevation-z0" style="margin-bottom: 20px; height: 30px">
            <div fxLayout="row" style="width: 100%;" fxLayoutAlign="space-bewteen center">
                <div fxFlex="40">
                    <h2 style="margin-top: 0;">Rezultatet</h2>
                </div>
                <div fxFlex="60" fxLayout="row" fxLayoutAlign="end">
                    <mat-form-field style="margin-top: -10px" >
                        <mat-label>Radhit sipas:</mat-label>
                        <mat-select [(ngModel)]="sort" (selectionChange)="changedSort($event.value)">
                            <mat-option [value]="'latest'">Postimet e fundit</mat-option>
                            <mat-option [value]="'price-l'">Cmimi me i ulet</mat-option>
                            <mat-option [value]="'price-h'">Cmimi me i larte</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
        </mat-card>

        <mat-card *ngIf="cars?.length != 0; else noCars" class="mat-elevation-z0" style="height: auto; padding: 0;">

            <div *ngFor="let car of cars">
                <div class="item-wrapper" style="padding: 16px">

                    <div class="item" fxLayout="row" fxLayoutGap="16px">
                        <div fxFlex="30" style="height: 167px; width: 100%; overflow: hidden">
                            <img src="http://localhost:9090/cdn/{{car.uuid}}/{{car.images[0]}}"
                                 style=" height: 100%; width: 100%; object-fit:cover;">
                        </div>
                        <div fxFlex="70" style="" fxLayout="column">
                            <div fxLayout="row" fxLayoutAlign="space-between center">
                                <div>
                                    <a [routerLink]="['/pages/listing']" [queryParams]="{id: car.uuid}">
                                        <mat-card-title style="font-size: 16px">{{car?.title}}</mat-card-title>
                                    </a>
                                    <!--<mat-card-subtitle>-->
                                    <!--</mat-card-subtitle>-->
                                </div>
                                <div fxLayout="row" fxLayoutAlign="space-around center">
                                    <div style="font-size: 16px; font-weight: 500">
                                        {{car?.price?.value | currency : 'EUR' : 'symbol' : '1.0-0' }}
                                    </div>
                                    &nbsp;
                                    <button mat-icon-button color="accent">
                                        <mat-icon>playlist_add</mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div fxLayout="row wrap" fxLayoutAlign="space-between center"
                                 style="width: 100%; margin-top: 10px">
                                <div fxFlex="50" fxLayout="row" style="margin-bottom: 15px">
                                    <i style="color: #a8a8a8;">prodhuesi:</i>&nbsp;{{car.manufacturer}}
                                </div>
                                <div fxFlex="50" fxLayout="row" style="margin-bottom: 15px">
                                    <i style="color: #a8a8a8;">modeli:</i>&nbsp;{{car.model}}
                                </div>
                                <div fxFlex="50" fxLayout="row" style="margin-bottom: 15px">
                                    <i style="color: #a8a8a8;">viti:</i>&nbsp;{{car.year}}
                                </div>
                                <div fxFlex="50" fxLayout="row" style="margin-bottom: 15px">
                                    <i style="color: #a8a8a8;">kambio:</i>&nbsp;{{car.transmission}}
                                </div>
                                <div fxFlex="50" fxLayout="row" style="margin-bottom: 15px">
                                    <i style="color: #a8a8a8;">Karburanti:</i>&nbsp;{{car.fuel}}
                                </div>
                                <div fxFlex="50" fxLayout="row" style="margin-bottom: 15px">
                                    <i style="color: #a8a8a8;">qyteti:</i>&nbsp;{{car.city}}
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <mat-divider></mat-divider>
            </div>

        </mat-card>

        <mat-card *ngIf="cars?.length != 0;" class="mat-elevation-z0" style="margin: 20px 0 20px 0; height: auto; padding: 0px;">
            <mat-paginator  (page)="changedQueryOptions($event)"
                            style="width: 100%" [length]="queryOptions.total"
                            [pageSize]="queryOptions.size"
                            [pageSizeOptions]="[1, 2, 5, 10, 25]">
            </mat-paginator>
        </mat-card>

        <ng-template #noCars>
            <mat-card class="mat-elevation-z0 no-results">

            </mat-card>
        </ng-template>
    </div>
</div>